services:
  api:
    container_name: sheetdeck-api
    build:
      context: ./
      dockerfile: ./docker/backend/Dockerfile
    restart: always
    ports:
      - 8088:80
    env_file:
      - ./backend/stack.env
    pull_policy: build
  nuxt:
    container_name: sheetdeck-frontend
    build:
      context: ./
      dockerfile: ./docker/frontend/Dockerfile
    restart: always
    ports:
      - "3000:3000"
    environment:
      NODE_ENV: production
    volumes:
      - ./:/frontend
#   database:
#     container_name: sheetdeck-database
#     image: mysql:latest
#     restart: always
#     environment:
#         MYSQL_DATABASE: dbname
#         MYSQL_ROOT_PASSWORD: password
#     ports:
#         - 3366:3306
#     volumes:
#         - db-data:/var/lib/mysql
# volumes:
#     db-data: